# Bundle Analysis Guide

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ANALYZE –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–∞–Ω–¥–ª–∞

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–í–∫–ª—é—á–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –±–∞–Ω–¥–ª–∞:**
   \`\`\`bash
   ANALYZE=true pnpm build
   \`\`\`

2. **–û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä** —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–∞–∑–º–µ—Ä–æ–≤ –±–∞–Ω–¥–ª–∞

### –ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å

#### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

1. **–†–∞–∑–º–µ—Ä –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ JS** (Client Bundles)
   - –¶–µ–ª—å: < 200KB gzipped –¥–ª—è –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `_app-*.js`, `page-*.js`

2. **–ë–æ–ª—å—à–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (Large Dependencies)
   - –ò—Å–∫–∞—Ç—å –ø–∞–∫–µ—Ç—ã > 50KB
   - –ö–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ –∑–∞–º–µ–Ω—É –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç

3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** (Duplicate Code)
   - –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞–Ω–∫–∞—Ö
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è code-splitting

#### üìä –ö–∞–∫ —á–∏—Ç–∞—Ç—å –æ—Ç—á–µ—Ç:

\`\`\`
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Stat Size   ‚îÇ –†–∞–∑–º–µ—Ä –¥–æ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚îÇ
‚îÇ Parsed Size ‚îÇ –†–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚îÇ
‚îÇ Gzipped Size‚îÇ –†–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è (—Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
\`\`\`

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä @radix-ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

\`\`\`tsx
// ‚ùå –ü–ª–æ—Ö–æ
import {
  Dialog,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
  DialogClose,
  DialogOverlay,
  DialogPortal
} from '@/components/ui/dialog'

// ‚úÖ –•–æ—Ä–æ—à–æ (–¥–ª—è —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
const Dialog = dynamic(() => import('@/components/ui/dialog'))
\`\`\`

#### 2. –ë–æ–ª—å—à–∏–µ –∏–∫–æ–Ω–∫–∏ (lucide-react)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö –∏–∫–æ–Ω–æ–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –±–∞–Ω–¥–ª
**–†–µ—à–µ–Ω–∏–µ:** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∏–∫–æ–Ω–∫–∏

\`\`\`tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (—É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
import { ArrowRight, Check } from 'lucide-react'
\`\`\`

#### 3. –¢—è–∂–µ–ª—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–∞–Ω–¥–ª
**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ Server Components –∏–ª–∏ API routes

### –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª—å | –°—Ç–∞—Ç—É—Å |
|---------|---------|------|--------|
| First Load JS | ~250KB | <200KB | üü° –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| Largest Chunk | ~180KB | <150KB | üü° –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| Total Bundle Size | ~800KB | <600KB | üü° –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

\`\`\`bash
# –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
ANALYZE=true pnpm build

# –ê–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ production –±–∞–Ω–¥–ª–∞
NODE_ENV=production ANALYZE=true pnpm build

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
# 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –æ—Ç—á–µ—Ç
ANALYZE=true pnpm build
mv .next/analyze/client.html .next/analyze/client-before.html

# 2. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
# 3. –°—Ä–∞–≤–Ω–∏—Ç—å
ANALYZE=true pnpm build
# –û—Ç–∫—Ä—ã—Ç—å –æ–±–∞ —Ñ–∞–π–ª–∞ –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã
\`\`\`

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–î–æ–±–∞–≤–∏—Ç—å –≤ CI/CD –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞:

\`\`\`yaml
# .github/workflows/bundle-size.yml
- name: Analyze bundle
  run: |
    ANALYZE=true pnpm build
    # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
\`\`\`

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Next.js Bundle Analyzer](https://www.npmjs.com/package/@next/bundle-analyzer)
- [Web.dev: Optimize Bundle Size](https://web.dev/reduce-javascript-payloads-with-code-splitting/)
- [Next.js: Optimizing Bundle](https://nextjs.org/docs/app/building-your-application/optimizing/bundle-analyzer)
